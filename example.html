<!DOCTYPE html>
<html>

<head>
    <title>Moon Library Example</title>
</head>

<body>
    <p class='clock'></p>
    <p class='offset'></p>
    <p class='api'></p>

    <script type='module'>
        import { Moon } from './build/moontime.js'
        const moon = new Moon()

        moon.addEventListener('update', function(e) {
            document.querySelector('.clock').innerHTML = moon.formatMoonString('Time: %MSP:%MMP:%MP %MdT %MeMT, %MAT, %MC')
        })

        /*
            alternatively...
            moon.clock('Time: %MSP:%MMP:%MP %MdT %MeMT, %MAT, %MC', (_, time) => {
                document.querySelector('.clock').innerHTML = time
            })
        */

        moon.addEventListener('offset_update', function(e) {
            document.querySelector('.offset').innerHTML = 'Offset: ' + e.offset
        })

        moon.addEventListener('api_status_update', function(e) {
            document.querySelector('.api').innerHTML = 'API Connected: ' + String(e.connected)
        })
    </script>
</body>

</html>